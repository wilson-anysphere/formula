{
  "$schema": "../gen/schemas/desktop-schema.json",
  "identifier": "main",
  "description": "Permissions for the main desktop window (explicit IPC allowlist).",
  "local": true,
  "windows": ["main"],
  "permissions": [
    "allow-invoke",
    {
      "identifier": "core:event:allow-listen",
      "allow": [
        { "event": "close-prep" },
        { "event": "close-requested" },
        { "event": "open-file" },
        { "event": "file-dropped" },
        { "event": "tray-open" },
        { "event": "tray-new" },
        { "event": "tray-quit" },
        { "event": "shortcut-quick-open" },
        { "event": "shortcut-command-palette" },
        { "event": "menu-open" },
        { "event": "menu-new" },
        { "event": "menu-save" },
        { "event": "menu-save-as" },
        { "event": "menu-print" },
        { "event": "menu-print-preview" },
        { "event": "menu-export-pdf" },
        { "event": "menu-close-window" },
        { "event": "menu-quit" },
        { "event": "menu-undo" },
        { "event": "menu-redo" },
        { "event": "menu-cut" },
        { "event": "menu-copy" },
        { "event": "menu-paste" },
        { "event": "menu-paste-special" },
        { "event": "menu-select-all" },
        { "event": "menu-zoom-in" },
        { "event": "menu-zoom-out" },
        { "event": "menu-zoom-reset" },
        { "event": "menu-about" },
        { "event": "menu-check-updates" },
        { "event": "menu-open-release-page" },
        { "event": "startup:window-visible" },
        { "event": "startup:webview-loaded" },
        { "event": "startup:first-render" },
        { "event": "startup:tti" },
        { "event": "startup:metrics" },
        { "event": "update-check-started" },
        { "event": "update-check-already-running" },
        { "event": "update-not-available" },
        { "event": "update-check-error" },
        { "event": "update-available" },
        { "event": "update-download-started" },
        { "event": "update-download-progress" },
        { "event": "update-downloaded" },
        { "event": "update-download-error" },
        { "event": "oauth-redirect" }
      ]
    },
    {
      "identifier": "core:event:allow-emit",
      "allow": [
        { "event": "close-prep-done" },
        { "event": "close-handled" },
        { "event": "open-file-ready" },
        { "event": "oauth-redirect-ready" },
        { "event": "updater-ui-ready" },
        { "event": "coi-check-result" }
      ]
    },
    "core:event:allow-unlisten",
    "dialog:allow-open",
    "dialog:allow-save",
    "dialog:allow-confirm",
    "dialog:allow-message",
    "core:window:allow-hide",
    "core:window:allow-show",
    "core:window:allow-set-focus",
    "core:window:allow-close",
    "core:window:allow-minimize",
    "core:window:allow-toggle-maximize",
    "core:window:allow-maximize",
    "core:window:allow-unmaximize",
    "core:window:allow-is-maximized",
    "clipboard-manager:allow-read-text",
    "clipboard-manager:allow-write-text",
    "updater:allow-check",
    "updater:allow-download",
    "updater:allow-install"
  ]
}
