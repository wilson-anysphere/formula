/*
  Grid scrollbars (track + thumb) used by both the legacy SpreadsheetApp renderer
  and the shared CanvasGridRenderer wrapper.

  This file intentionally uses only design tokens from `tokens.css` and does not
  hardcode colors (enforced by `noHardcodedColors.test.js`).
*/

.grid-scrollbar-track {
  position: absolute;
  z-index: 5;
  background: var(--formula-grid-scrollbar-track, var(--bg-tertiary));
  border-radius: var(--radius);
  opacity: 0.9;
  user-select: none;
}

.grid-scrollbar-thumb {
  position: absolute;
  background: var(--formula-grid-scrollbar-thumb, var(--text-secondary));
  border-radius: var(--radius);
  cursor: pointer;
  user-select: none;
  transition:
    background-color var(--motion-duration-fast) var(--motion-ease),
    box-shadow var(--motion-duration-fast) var(--motion-ease);
}

.grid-scrollbar-thumb:hover,
.grid-scrollbar-thumb:active {
  background: var(--formula-grid-cell-text, var(--text-primary));
  box-shadow: 0 0 0 var(--space-1) var(--formula-grid-selection-fill, var(--selection-fill, var(--selection-bg)));
}

.grid-scrollbar-thumb:focus-visible {
  outline: var(--space-1) solid var(--formula-grid-selection-border, var(--selection-border));
  outline-offset: calc(var(--space-1) / 2);
}

.grid-scrollbar-track--vertical > .grid-scrollbar-thumb {
  left: calc(var(--space-1) / 2);
  right: calc(var(--space-1) / 2);
  top: 0;
}

.grid-scrollbar-track--horizontal > .grid-scrollbar-thumb {
  top: calc(var(--space-1) / 2);
  bottom: calc(var(--space-1) / 2);
  left: 0;
}

@media (forced-colors: active), (prefers-contrast: more) {
  .grid-scrollbar-track {
    /*
      Avoid lowering contrast in high-contrast/forced-colors mode.
      `opacity` on the track affects the thumb as well.
    */
    opacity: 1;
    border: 1px solid var(--border);
  }

  .grid-scrollbar-thumb:hover,
  .grid-scrollbar-thumb:active {
    box-shadow: none;
    outline: var(--space-1) solid var(--formula-grid-selection-border, var(--selection-border));
    outline-offset: calc(var(--space-1) / 2);
  }

  /* Keep thumb sizing consistent when the track has a border. */
  .grid-scrollbar-track--vertical > .grid-scrollbar-thumb {
    left: 0;
    right: 0;
  }

  .grid-scrollbar-track--horizontal > .grid-scrollbar-thumb {
    top: 0;
    bottom: 0;
  }
}

:root[data-theme="high-contrast"] .grid-scrollbar-track {
  opacity: 1;
  border: 1px solid var(--border);
}

:root[data-theme="high-contrast"] .grid-scrollbar-thumb:hover,
:root[data-theme="high-contrast"] .grid-scrollbar-thumb:active {
  box-shadow: none;
  outline: var(--space-1) solid var(--formula-grid-selection-border, var(--selection-border));
  outline-offset: calc(var(--space-1) / 2);
}

:root[data-theme="high-contrast"] .grid-scrollbar-track--vertical > .grid-scrollbar-thumb {
  left: 0;
  right: 0;
}

:root[data-theme="high-contrast"] .grid-scrollbar-track--horizontal > .grid-scrollbar-thumb {
  top: 0;
  bottom: 0;
}

:root[data-reduced-motion="true"] .grid-scrollbar-thumb {
  transition: none;
}

@media (prefers-reduced-motion: reduce) {
  .grid-scrollbar-thumb {
    transition: none;
  }
}
